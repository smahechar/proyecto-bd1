


Esta base de datos corresponde al Sistema de Gestión de Espacios Colaborativos (SGEC).
Permite administrar espacios universitarios, reservas, mantenimiento, historial de cambios, recursos asociados y registros de actividad de los usuarios.

Incluye:

Tablas normalizadas en 3FN.
Llaves primarias y foráneas.
Triggers automáticos.
Procedimientos almacenados.
Datos de ejemplo precargados.



* **MySQL 8.0+**
* Motor de almacenamiento **InnoDB**
* Codificación **utf8mb4**







Contiene los edificios o bloques físicos del campus.

Campos principales:

* `id_bloque` PK
* `nombre`
* `descripcion`



Define los tipos de espacios disponibles.

Campos principales:

* `id_tipo_espacio` PK
* `nombre_tipo`
* `descripcion`


Representa cada espacio físico del sistema.

Campos principales:

* `id_espacio` PK
* `nombre`, `capacidad`, `descripcion`
* `estado` (Disponible, Ocupado, Reservado, Mantenimiento)
* FK `id_tipo_espacio`
* FK `id_bloque`

Relaciones:

* Un tipo → muchos espacios
* Un bloque → muchos espacios



Información de usuarios del sistema.

Campos:

* `id_usuario` PK
* `id_rol` FK
* `nombre`, `correo`, `contrasena`




Define permisos del sistema:

* Administrador
* Docente
* Estudiante



Registra reservas realizadas por usuarios.

Campos:

* `id_reserva` PK
* FKs `id_usuario`, `id_espacio`
* `fecha_reserva`, `hora_inicio`, `hora_fin`
* `estado` (Activa, Cancelada, Completada)



Gestión de mantenimientos asociados a espacios.

Campos:

* `id_mantenimiento` PK
* FKs `id_espacio`, `id_usuario`
* `estado_mantenimiento`
* Fechas, descripción



Registro de todos los cambios de estado de los espacios.

Campos:

* `id_historial` PK
* FK `id_espacio`
* Estados anterior y nuevo
* Fechas y responsable



Recursos asociados a cada espacio.

Campos:

* `id_recurso` PK
* FK `id_espacio`
* `nombre`, `cantidad`



Bitácora de acciones realizadas por los usuarios.

Campos:

* `id_log` PK
* FK `id_usuario`
* `accion`, `descripcion`
* `fecha_accion`



Se ejecuta al modificar un espacio.
Registra automáticamente un cambio en la tabla `historial`.


Se ejecuta al crear una reserva.
Actualiza el estado del espacio a "Reservado" si corresponde al horario actual.



Si una reserva se cancela, valida si el espacio debe volver a estado “Disponible”.

Valida:

* Existencia del espacio
* Estado del espacio
* Conflictos de horario
* Inserta la reserva
* Registra en `log_acciones`





La base de datos está completamente funcional con:

* Relaciones correctas
* Integridad referencial
* Triggers activos
* Datos de prueba insertados

